<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><title>To Java from C++</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><style type="text/css"><!--.style1 {font-family: "Courier New", Courier, mono}.style3 {color: #FF6600}.style5 {color: #000066}.style6 {color: #000066; font-weight: bold; }.style7 {font-family: "Courier New", Courier, mono; color: #000066; font-weight: bold; }.style8 {font-family: "Courier New", Courier, mono; color: #000066; }--></style></head><body><? // grab the headerinclude 'notes-header.php' ; ?><h1 align="center"><font color="#FF6600">To Java from C++ </font></h1><p align="right"><font size="-1">Last Modified <!-- #BeginDate format:Am2 -->1/10/12<!-- #EndDate --></font></p><p align="center"><font size="1">		<a href="#idea">The Big Picture</a> &bull; 		<a href="#sim">Similarities to C++</a> &bull; 		<a href="#diff">Differences: Framework and I/O</a> &bull; 		<a href="#data">Scalar Data Types</a> &bull; 		<a href="#arrays">Arrays</a> &bull;         <a href="#math">Math Functions</a></font></p><hr><h2><font color="#990033"><a name="idea"></a><font color="#FF6600">The Big Picture </font></font></h2><p>Since Java is designed to be accessible to C++ programmers, there's quite a bit you already know. I'll spend this class comparing and contrasting the basic concepts. </p><p>The material on this page covers the content in Ch. 2-5 (and a bit beyond) of Deitel. I'll assume you've mastered the concepts from CMPSC 121 (or 201), but you should review Ch. 2-5 on your own, studying in detail basic concepts on which your skills are rusty. </p><p>We'll start with all the similarities, then go into the differences. </p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Big Picture</a> &bull; <a href="#sim">Similarities to C++</a> &bull; <a href="#diff">Differences: Framework and I/O</a> &bull; <a href="#data">Scalar Data Types</a> &bull; <a href="#arrays">Arrays</a> &bull; <a href="#math">Math Functions</a></font></p><hr><h2><font color="#990033"><font color="#FF6600"><a name="sim"></a>Similarities to C++ </font></font></h2><p>Many aspects of Java  are <em>identical</em> to C++. </p><p>First, here are some of the basic ideas that are the same: </p><ul>  <li>assignment statements and the assignment operator </li>  <li>declarations for <span class="style1">int</span>, <span class="style1">double</span>, and <span class="style1">char</span> variables (more below) </li>  <li>arithmetic operators: <span class="style1">+, -, *, /, %</span> </li>  <li>relational operators: <span class="style1">&gt;, &gt;=, &lt;, &lt;=, ==, !=</span> </li>  <li>logical operators: <span class="style1">&amp;&amp;, ||, !</span> </li>  <li> Boolean expressions </li></ul><p>Happily, all of the selection and repetition control structures are the same too: </p><ul>  <li>if statements</li>  <li>switch structures </li>  <li>for loops </li>  <li>while loops</li>  <li>do...while loops</li></ul><p>Ch. 2-5 provide details on these. You can also review my take on these issues from my <a href="../cmpsc201/schedule-notes-for-221.php"> online CS1 notes</a>.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Big Picture</a> &bull; <a href="#sim">Similarities to C++</a> &bull; <a href="#diff">Differences: Framework and I/O</a> &bull; <a href="#data">Scalar Data Types</a> &bull; <a href="#arrays">Arrays</a> &bull; <a href="#math">Math Functions</a></font></p><hr><h2><font color="#FF6600"><a name="diff"></a>What's Different: The Basics </font></h2><h3 class="style3">Program Framework and Classes</h3><ul>  <li>Java is fully object-oriented, so everything must be written in the context of a class. </li>  <li>The name of the class must be the same as the name of the source file, e.g. a class called <span class="style1">MyClass</span> must be in a file called <span class="style1">MyClass.java</span>.</li>  <li>We can have classes as you learned about them in 122, where we create data types and instantiate them in other programs.</li>  <li>All executable programs must be in classes too. The difference is that these classes have a <span class="style1">main</span> method.     <ul>      <li>The <span class="style1">main</span> method has the header <span class="style1"><br>          <span class="style6">public static void main(String[] args)</span></span>.        <ul>          <li>This method must be marked <strong>static</strong>, meaning that it cannot be called on objects of the class. </li>          <li>The array <span class="style1">args</span> could be used to send in command-line arguments.</li>        </ul>	  <li>Any class could technically have a <span class="style1">main</span> method. Possible use: for test driving as you code...</li>    </ul>  </li></ul><p>So, to write a basic program with all of the logic contained within the main method, we'd use the following basic framework: </p><blockquote>  <pre><span class="style6">public class</span> <em>ClassName</em><span class="style5"><strong>{   public static void main(String[] args)   {</strong></span>      // logic goes here!<span class="style5">   }}</span></pre></blockquote><p>&nbsp;</p><p>&nbsp;</p><h3 class="style3"> Command Line Output</h3><p>There are two basic commands for outputting information:</p><ul>  <li><span class="style7">System.out.print(</span> <em>argument</em> <span class="style7">);</span> prints the argument without a line break.</li>  <li><span class="style7">System.out.println(</span> <em>argument</em> <span class="style7">);</span> prints the argument with a line break, like using <span class="style1">cout</span> with <span class="style1">endl</span> in C++. </li></ul><p>The arguments to these methods are technically Strings. You can concatenate strings with + to print out labeled numeric output too, as you saw in the first lab:</p><blockquote>  <pre>int hourPart = 9;int minPart = 45;System.out.println(&quot;Section 1 starts at &quot; + hourPart +  &quot;:&quot; + minPart);</pre></blockquote><p>Why do you think this works? </p><p>&nbsp;</p><h3 class="style3">Command Line Input </h3><p>We use the <span class="style1">Scanner</span> class for command line input. This has a few differences from C++:</p><ul>  <li>No streams. Everything is a function.</li>  <li>Input code is specific to the type of variable we're reading in. </li></ul><p>This requires the following import statement at the top of our program:</p><blockquote>  <pre class="style5"><strong>import java.util.Scanner; </strong></pre></blockquote><p>Then in main (or whatever method we wish to do input), we need to instantiate a Scanner object as follows: </p><blockquote>  <pre class="style5"><strong>Scanner input = new Scanner(System.in);</strong></pre></blockquote><p>Then, to read from the input, we'd make a call to one of the following methods for numeric data:</p><ul>  <li><span class="style5 style1"><strong>nextInt()</strong></span></li>  <li><span class="style8"><strong>nextDouble()</strong></span></li></ul><p>For example, we could have the following, using the variables declared in the previous example: </p><blockquote>  <pre>Scanner input = new Scanner(System.in);<br>       <br>System.out.print(&quot;Enter the hour: &quot;);<br>hourPart = input.nextInt();<br>System.out.print(&quot;Enter the minute: &quot;);<br>minPart = input.nextInt();</pre></blockquote><p>To read in text, we have the following two methods:</p><ul>  <li><span class="style5 style1"><strong>next()</strong></span>, which reads text up to whitespace </li>  <li><span class="style8"><strong>nextLine()</strong></span>, which reads text up to a line break (like getline in C++) </li></ul><p>Note that there is <strong>not</strong> a <span class="style1">nextChar()</span> method. Here's one workaround:</p><blockquote>  <pre>char choice;System.out.print(&quot;Option: &quot;);choice = input.next().charAt(0);</pre></blockquote><p>Finally, you can use the <span class="style1">hasNext()</span> method of Scanner to test to see if there is more input, for inputting an unknown number of data points terminated with Ctrl+D on Unix-based systems or Ctrl+C on Windows-based systems. You can also use <span class="style1">hasNextDouble()</span> and analogous methods to test if the next input is of type <span class="style1">double</span>, and thus use a character sentinel to end input. For example, you could do:</p><blockquote>  <pre>while(input.hasNext()){     // Code to process data with input.nextInt() or the like}</pre></blockquote><p>&nbsp;</p><h3 class="style3">Formatted Output </h3><p>Java provides a more advanced output method called <span class="style1">printf()</span>. Here's how it works:</p><ul>  <li>Write one string for the output with placeholders in it for numeric data. This is the first argument. </li>  <li>List all outputs in order as the second and subsequent arguments. </li>  <li>Some placeholder formats:    <ul>      <li><span class="style1">%d</span> for an <span class="style1">int</span> value. </li>	  <li><span class="style1">%f</span> for an <span class="style1">double</span> or <span class="style1">float</span> value.</li>      <li><span class="style1">%3d</span> for an <span class="style1">int</span> value printed to the right of a field of width 3. (Of course, the 3 can change. This is analogous to <span class="style1">cout &lt;&lt; setw(3) &lt;&lt; ...</span>.) </li>      <li><span class="style1">%.2f</span> for an <span class="style1">double</span> or <span class="style1">float</span> value with 2 decimal places. (Of course, the 2 can change.)     </ul>      </li></ul><p><strong>Example 1: </strong>The following code prints out the time exactly as in an earlier example:</p><blockquote>  <pre>System.out.printf(&quot;Time: %d:%d\n&quot;, hourPart, minPart); </pre></blockquote><p><strong>Example 2: </strong>Here's an example block of code that computes and prints sales tax:</p><blockquote>  <pre>final double TAX_PCT = 0.06;    // sales tax ratedouble price;                   // price of an item in $double final_price;             // price of item costing price with tax, $System.out.print("Enter price: $");price = input.nextDouble();final_price = price*(1+TAX_PCT);System.out.printf("Price with tax is $%.2f.\n", final_price);    </pre></blockquote><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Big Picture</a> &bull; <a href="#sim">Similarities to C++</a> &bull; <a href="#diff">Differences: Framework and I/O</a> &bull; <a href="#data">Scalar Data Types</a> &bull; <a href="#arrays">Arrays</a> &bull; <a href="#math">Math Functions</a></font></p><hr><h2><font color="#990033"><font color="#FF6600"><a name="data"></a>Data Types in Java: Scalars </font></font></h2><h3 class="style3">Primitive Types</h3><p>Data types in Java fall into two categories: <strong>primitive types</strong>, i.e. the basic types that are not objects, and <strong>reference types</strong>, i.e. those that are objects. Nearly everything in Java is an object, but there are primitives that operate just as we know them from C++:</p><ul>  <li>The types <span class="style1">int</span>, <span class="style1">double</span>, and <span class="style1">char</span> are the same as in C++. </li>  <li>C++'s <span class="style1">bool</span> type in <span class="style1">boolean</span> in Java. </li></ul><p>We declare these just like we did in C++ and can use assignment statements with them just as we did in C++. </p><p>&nbsp;</p><h3 class="style3">Reference Types </h3><p>Most everything else in Java is a reference type. For example, type <span class="style1">String</span> (note the capital &quot;S&quot; here) is built into the language, and is a reference type. </p><p>Reference types are objects. They're declared as we'd expect, e.g. </p><blockquote>  <pre>String myString;</pre></blockquote><p>However, to use them, we need to call upon their constructors. We do so using the <span class="style7">new</span> keyword. We could follow the previous statement with this code: </p><blockquote>  <pre>myString = new String(); </pre></blockquote><p>It's common to do this all in one line of code: </p><blockquote>  <pre>String myString = new String(); </pre></blockquote><p>The latter is common for local variables. The former would be necessary when <span class="style1">myString</span> would be a data member of a class and we needed to initialize it in a constructor. </p><p>The same philosophy applies to instantiating other built-in classes and classes you make yourself. </p><p>&nbsp;</p><h3 class="style3">Wrapper Types </h3><p>The designers of Java did create a way for the language to be fully object-oriented. Each of the primitive data types has a corresponding <strong>wrapper class</strong>, whose objects would contain a sole data member: a primitive type variable. For working with basic calculations and local variables, this is overkill for sure. But, these wrapper classes will come in handy later when we want to pass variables into certain methods. </p><p>In addition, these classes provide some helpful methods, as we saw the other day: <span class="style1">Integer.parseInt()</span> and <span class="style1">Double.parseDouble()</span>. Each takes a single String argument and returns it converted to type <span class="style1">int</span> or <span class="style1">double</span>. When we're collecting input from most sources that aren't the command line, we'll need these conversions. </p><p>Wrapper classes include <span class="style1">Integer</span>, <span class="style1">Double</span>, <span class="style1">Character</span>, and <span class="style1">Boolean</span>.</p><p>Here's a simple example that shows how to wrap an <span class="style1">int</span> in an <span class="style1">Integer</span> and unwrap it: </p><blockquote>  <pre>int hourPart;<br>Integer hourPartWrapped;<br>        <br>System.out.print(&quot;Enter the hour: &quot;);<br>hourPart = input.nextInt();</pre>  <pre>hourPartWrapped = new Integer(hourPart);       System.out.printf(&quot;Hour: %d\n&quot;, hourPartWrapped.intValue());</pre></blockquote><p>&nbsp;</p><blockquote>&nbsp; </blockquote><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Big Picture</a> &bull; <a href="#sim">Similarities to C++</a> &bull; <a href="#diff">Differences: Framework and I/O</a> &bull; <a href="#data">Scalar Data Types</a> &bull; <a href="#arrays">Arrays</a> &bull; <a href="#math">Math Functions</a></font></p><hr><h2><font color="#990033"><font color="#FF6600"><a name="arrays" id="arrays"></a></font></font><span class="style3">Data Types in Java: Arrays</span></h2><p>Arrays are also reference types. As a result, we need to specify that we're dealing with an array in two places:</p><ul>  <li>In declaring the array, when we give the type before the name, we must include <em><strong>empty</strong></em> brackets after any other type to indicate that we're dealing with an array.</li>  <li>We then use the <span class="style1">new</span> keyword similarly to declaring a scalar reference type variable, but give brackets with the physical size of the array inside afterward. </li></ul><p>Here's a general form of declaring and initializing an array separately:</p><blockquote>  <pre>type<span class="style6">[]</span> arrayName<span class="style5"><strong>;</strong></span>arrayName = <span class="style6">new</span> type<span class="style6">[</span>size<span class="style5"><strong>];</strong></span></pre></blockquote><p>Here's an example:</p><blockquote>  <pre>int[] data;data = new int[100];</pre></blockquote><p>We could do this on one lines as well, provided the array stays local to one method: </p><blockquote>  <pre>int[] data = new int[100];</pre></blockquote><p>Much of what we know about arrays from C++ applies to Java: </p><ul>  <li>Arrays are homogenous, linear data structures</li>  <li>Arrays provide direct access to elements via indices and the subscript operator []</li>  <li>Array indices start at 0 </li></ul><p>&nbsp;</p><h3 class="style3">Array Initializer</h3><p>Java also provides an array initializer. We can list the elements of an array in braces (<font face="Courier New, Courier, mono">{ }</font>) and thus assign all of the contents of an array at once. If the array is initialized in the data dictionary, the general form is: </p><blockquote>  <pre>int[] <em>arrayName </em>= { <em>list of comma-separated values</em> };</pre></blockquote><p>For example, we might write the following code:</p><blockquote>  <pre>int[] testValues = {14, 82, 12, 49, 17}; </pre></blockquote><p>If the array is initialized outside of the data dictionary, the general form is: </p><blockquote>  <pre>int[] <em>arrayName</em>; <em><br>arrayName </em>= new int[]{ <em>list of comma-separated values</em> };</pre></blockquote><p>For example, we might write the following code:</p><blockquote>  <pre>int[] testValues;testValues = new int[]{14, 82, 12, 49, 17}; </pre></blockquote><p>&nbsp;</p><h3 class="style3"> Sizing</h3><p>Arrays in Java know their sizes. We simply add <font face="Courier New, Courier, mono">.length</font> to the name of an array to get its size. For example, <font face="Courier New, Courier, mono">testValues.length</font> would be 5 in the context of the above example. </p><p>A key difference between C++ and Java is that we can <strong>dynamically size</strong> arrays in Java. In other words, we could use a variable for the physical size of an array. </p><p>Still, we should maintain the idea of using a constant physical size separately from a variable for an array's logical size, as we generally do not know how many input data points we will have. </p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Big Picture</a> &bull; <a href="#sim">Similarities to C++</a> &bull; <a href="#diff">Differences: Framework and I/O</a> &bull; <a href="#data">Scalar Data Types</a> &bull; <a href="#arrays">Arrays</a> &bull; <a href="#math">Math Functions</a></font></p><hr><h2><font color="#990033"><font color="#CC0000"><a name="math"></a></font></font><span class="style3">Built-in Math Functions: The <font face="Courier New, Courier, mono">Math</font> Class </span></h2><p>Recall those <font face="Courier New, Courier, mono">math.h</font> functions we used in C++? As you'd expect, Java provides similar functionality (and a little more). </p><p>Instead of importing anything though, we simply put <font face="Courier New, Courier, mono">Math.</font> in front of any of these methods. For example, the power method might be called as <font face="Courier New, Courier, mono">Math.pow(2, 5)</font>. Otherwise, we can use these functions in the same ways we could in C++. </p><p>Here are several functions that take one <font face="Courier New, Courier, mono">double</font> argument and return a <font face="Courier New, Courier, mono">double</font> value. </p><p>Let's first look at these functions:</p><table border="1" cellspacing="0">  <tr>    <th scope="col">Function</th>    <th scope="col">Conditions on the Input (Preconditions)</th>    <th scope="col">Output</th>    <th scope="col">Example</th>    <th scope="col"><p>Result of <br>        Example </p></th>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.abs</font></td>    <td>only that it has been initialized, if it's a variable </td>    <td>absolute value of the input </td>    <td><font face="Courier New, Courier, mono">Math.abs(-3)</font></td>    <td>3</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.sqrt</font></td>    <td>must be nonnegative </td>    <td>square root of the input </td>    <td><font face="Courier New, Courier, mono">Math.sqrt(25)</font></td>    <td>5</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.exp</font></td>    <td>only that it has been initialized, if it's a variable </td>    <td><i>e<sup>x</sup></i>, where <i>x</i> is the input</td>    <td><font face="Courier New, Courier, mono">Math.exp(1)</font></td>    <td>2.718</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.log</font></td>    <td>must be positive </td>    <td>ln <em>x</em>, where <em>x</em> is the input </td>    <td><font face="Courier New, Courier, mono">Math.log(100)</font></td>    <td>4.6052</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.log10</font></td>    <td>must be positive</td>    <td>log<sub>10</sub> <em>x</em>, where <em>x</em> is the input</td>    <td><font face="Courier New, Courier, mono">Math.log10(100)</font></td>    <td>2</td>  </tr></table><p>The basic trig functions and their inverses are also available. Note that all use radians. Here they are:</p><table border="1" cellspacing="0">  <tr>    <th scope="col">Function</th>    <th scope="col">Conditions on the Input (Preconditions)</th>    <th scope="col">Output</th>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.sin</font></td>    <td rowspan="3">angle is measured in radians </td>    <td>sine of angle </td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.cos</font></td>    <td>cosine of angle </td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.tan</font></td>    <td>tangent of angle</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.asin</font></td>    <td>input is between -1.0 and 1.0 </td>    <td>arcsine of input<br>      in range -&pi;/2 through &pi;/2</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.acos</font></td>    <td>input is between -1.0 and 1.0 </td>    <td>arccosine of input<br>      in range 0.0 through &pi;</td>  </tr>  <tr>    <td><font face="Courier New, Courier, mono">Math.atan</font></td>    <td>input is between -1.0 and 1.0 </td>    <td>arctangent of input<br>      in range -&pi;/2 through &pi;/2</td>  </tr></table><p>There are other methods in the <font face="Courier New, Courier, mono">Math</font> library. See <a href="http://java.sun.com/javase/6/docs/api/java/lang/Math.html">Sun's official documentation</a> to learn more.</p><p><strong>Example:</strong> Here's an example block of Java code that computes the base-2 logarithm of a number input by the user:</p><blockquote>  <pre>Scanner input = new Scanner(System.in);   // for user inputdouble x;                                 // number whose base-2 log user wantsdouble result;                            // base-2 logarithm of x// INPUTSystem.out.print(&quot;Enter a number to get its base-2 log: &quot;);x = input.nextDouble();// PROCESS result = Math.log(x)/Math.log(2.0);     // invoke change of base// OUTPUTSystem.out.println(&quot;The base-2 log of &quot; + x + &quot; is &quot; + result); </pre></blockquote><p>&nbsp;</p><h3 class="style3">Constants</h3><p>The <font face="Courier New, Courier, mono">Math</font> library also defines constants <font face="Courier New, Courier, mono">Math.PI</font> and <font face="Courier New, Courier, mono">Math.E</font>. </p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Big Picture</a> &bull; <a href="#sim">Similarities to C++</a> &bull; <a href="#diff">Differences: Framework and I/O</a> &bull; <a href="#data">Scalar Data Types</a> &bull; <a href="#arrays">Arrays</a> &bull; <a href="#math">Math Functions</a></font></p></body></html>