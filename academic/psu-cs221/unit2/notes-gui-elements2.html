<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><title>More GUI Elements</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body><? // grab the headerinclude 'notes-header.php' ; ?><h1 align="center"><font color="#336633"> More GUI Elements</font></h1><p align="right"><font size="-1">Last Modified   <!-- #BeginDate format:Am2 -->7/22/11<!-- #EndDate --></font></p><p align="center">	<font size="1">		<a href="#sliders">Sliders</a> &bull;		<a href="#menus">Menus</a> &bull; 		<a href="#context_menus">Context Menus</a> &bull; <a href="#tabs">Tabbed Windows</a></font></p><hr><h2><font color="#990033"><font color="#336633"><a name="sliders"></a>Sliders</font></font></h2><p>A slider, implemented in class <font face="Courier New, Courier, mono">JSlider</font>, can also be a useful GUI component when we want the user to input a value in a given range. (One nice side effect is that we don't have to worry about the user inputting invalid values with sliders.) Consider the following applet, which uses a slider to change the red component a color visualization:</p><blockquote>  <p><applet code="ColorSlider.class" width="300" height="350"></applet></p></blockquote><p>The constructor call for a slider looks like this:</p><blockquote>  <pre>sliderName = <strong><font color="#000066">new JSlider(</font></strong>orientation<font color="#000066"><strong>,</strong></font> minimumValue<font color="#000066"><strong>,</strong></font> maximumValue<font color="#000066"><strong>,</strong></font> initialValue<strong><font color="#000066">);</font></strong> </pre></blockquote><p>The orientation can be either <font face="Courier New, Courier, mono">SwingConstants.HORIZONTAL</font> or <font face="Courier New, Courier, mono">SwingConstants.VERTICAL</font>. </p><p>The part of the slider that moves back and forth is called the <strong>thumb</strong>. </p><p>Generally, we want to see the tick marks. We turn on tick marks via the following code, where the tick spacing values are integers:</p><blockquote>  <pre>sliderName<strong><font color="#000066">.setMajorTickSpacing(</font></strong>spacingValue<font color="#000066"><strong>); </strong></font>                  <br>sliderName<font color="#000066"><strong>.setMinorTickSpacing(</strong></font>spacingValue<font color="#000066"><strong>); </strong></font><br>sliderName<font color="#000066"><strong>.setPaintTicks(true); </strong></font></pre></blockquote><h3><font color="#336633">Event Handling</font></h3><p>Slider events are handled via the <font face="Courier New, Courier, mono">ChangeListener</font> class. So, we need <font color="#000066" face="Courier New, Courier, mono"><strong>implements ChangeListener</strong></font>. Then we need this code:</p><blockquote>  <pre>sliderName<strong><font color="#000066">.addChangeListener(this); </font></strong></pre></blockquote><p>Finally, we need a method with the following header:</p><blockquote>  <pre><strong><font color="#000066">public void stateChanged(ChangeEvent e) </font> </strong></pre></blockquote><p>&nbsp;</p><h3><font color="#336633">Example </font></h3><p>Consider the following code, which is the partial code for the applet above: </p><blockquote>  <pre>public class ColorSlider extends JApplet implements ChangeListener{    private int redVal;                     // how much red is in the color map    private FlowLayout layout;              // applet layout    private JSlider redSlider;              // slider to change the amount of red    private JLabel  redPrompt;              // prompt to label the red input slider    @Override    public void init()    {         layout = new FlowLayout();             // set up layout         layout.setAlignment(FlowLayout.LEFT);         setLayout(layout);         redVal = 0;                            // no red initially         redPrompt = new JLabel("Drag slider to vary 'redness': ");    // set up prompt         add(redPrompt);         redSlider = new JSlider(SwingConstants.HORIZONTAL,      // set up slider for red                                 0, 255, 0);                     //  from 0-256, initially 0         redSlider.setMajorTickSpacing(16);                      // break up ticks by 16                                                                 // since 16^2 = 256         redSlider.setMinorTickSpacing(8);         redSlider.setPaintTicks(true);         redSlider.addChangeListener(this);         add(redSlider);    }    // paint function omitted	    public void stateChanged(ChangeEvent e)        // handle red slider changing    {        redVal = redSlider.getValue();             // save the red value        repaint();    }}</pre></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#sliders">Sliders</a> &bull; <a href="#menus">Menus</a> &bull; <a href="#context_menus">Context Menus</a> &bull; <a href="#tabs">Tabbed Windows</a></font></p><hr><h2><font color="#990033"><font color="#336633"><a name="menus"></a>Menus</font></font></h2><p>Menus use several classes together - <font face="Courier New, Courier, mono">JMenuBar</font> for the menu bar itself, <font face="Courier New, Courier, mono">JMenu</font> for each menu, and <font face="Courier New, Courier, mono">JMenuItem</font> for each element of each menu. Additionally, we'll use the <font face="Courier New, Courier, mono">ActionListener</font> interface to process events generated each menu item. </p><p>We'll start with event handling. For menu items, event handling is done through the <font face="Courier New, Courier, mono">ActionListener</font>'s <font face="Courier New, Courier, mono">actionPerformed</font> method we know well by now:</p><blockquote>  <pre><strong><font color="#000066">public void actionPerformed(ActionEvent e)</font></strong></pre></blockquote><p>&nbsp;</p><p>The process of implementing a menu bar for an application consists of several steps:</p><ol>  <li>Create a menu bar object via the <font face="Courier New, Courier, mono">JMenuBar</font> class:<br>  <blockquote>    <pre><strong><font color="#000066">JMenuBar</font></strong> menuBar;menuBar <strong><font color="#000066">= new JMenuBar();</font></strong> </pre>  </blockquote>  </li>  <li>For each menu desired,    <ol type="a">      <li>Create a <font face="Courier New, Courier, mono">JMenu</font> object for the menu, e.g. <br>      <blockquote><pre><strong><font color="#000066">JMenu</font></strong> menuObject;menuObject <font color="#000066"><strong>= new JMenu(&quot;</strong></font>Display name<strong><font color="#000066">&quot;);</font></strong></pre>      </blockquote></li>      <li>If desired, set a mnemonic, i.e. a shortcut letter, for the menu, e.g. <br>      <blockquote><pre>menuObject<strong><font color="#000066">.setMnemonic('</font></strong>letter<font color="#000066"><strong>'); </strong></font></pre>      </blockquote></li>      <li><a name="menu_items"></a>For each item desired in the menu,         <ol type="i">          <li>Create a <font face="Courier New, Courier, mono">JMenuItem</font> object, e.g.<br>            <blockquote><pre><strong><font color="#000066">JMenuItem</font></strong> menuItem;menuItem <font color="#000066"><strong>= new JMenuItem(&quot;</strong></font>Display text<strong><font color="#000066">&quot;);</font></strong> </pre>            </blockquote>          </li>          <li>If desired, set a mnemonic as with a menu.</li>          <li>Associate the <font face="Courier New, Courier, mono">JMenuItem</font> with the action listener, e.g. <br>            <blockquote><pre>menuItem<strong><font color="#000066">.addActionListener(this); </font></strong></pre>            </blockquote></li>          <li>Add the <font face="Courier New, Courier, mono">JMenuItem</font> object to the <font face="Courier New, Courier, mono">JMenu</font> object, e.g.<br>            <blockquote><pre>menuObject<font color="#000066"><strong>.add(</strong></font>menuItem<font color="#000066"><strong>);</strong></font></pre>            </blockquote></li>          <li>Add code to the <font face="Courier New, Courier, mono">actionPerformed</font> method to handle the event of choosing this menu option. </li>        </ol>      </li>      <li>Add the <font face="Courier New, Courier, mono">JMenu</font> object to the <font face="Courier New, Courier, mono">JMenuBar</font> object: <br>        <blockquote><pre>menuBar<font color="#000066"><strong>.add(</strong></font>menuObject<font color="#000066"><strong>);</strong></font></pre>        </blockquote></li>    </ol>  </li>  <li>Add the <font face="Courier New, Courier, mono">JMenuBar</font> object to the GUI:<br>    <blockquote><pre><strong><font color="#000066">setJMenuBar(</font></strong>menuBar<strong><font color="#000066">); </font></strong></pre>    </blockquote></li></ol><p>&nbsp;</p><h3><font color="#990033"><font color="#336633"> Example</font></font></h3><p>Consider the following example code, which creates a few small menus:</p><blockquote>  <pre>import java.awt.Color;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import javax.swing.JColorChooser;import javax.swing.JFrame;import javax.swing.JMenu;import javax.swing.JMenuItem;import javax.swing.JMenuBar;import javax.swing.JOptionPane;public class MenuDemo extends JFrame implements ActionListener{    private JMenuBar menuBar;                 // program's main menu bar    private JMenu fileMenu;                   // file menu    private JMenu formatMenu;                 // format menu    private JMenu helpMenu;                   // help menu    private JMenuItem file_exit;              // file menu, exit item    private JMenuItem format_font;            // format menu, font item    private JMenuItem format_color;           // format menu, color item    private JMenuItem help_about;             // help menu, about item    public MenuDemo()                         // set up GUI    {       super("Menu Demo");       menuBar = new JMenuBar();              // construct menu bar       fileMenu = new JMenu("File");          // define file menu       fileMenu.setMnemonic('F');             // shortcut       file_exit = new JMenuItem("Exit");     // define file menu options       file_exit.setMnemonic('E');       file_exit.addActionListener(this);       fileMenu.add(file_exit);       menuBar.add(fileMenu);                 // add file menu to menu bar       formatMenu = new JMenu("Format");      // define format menu       formatMenu.setMnemonic('m');           // shortcut       format_font = new JMenuItem("Font");   // define format menu options       format_font.setMnemonic('F');       format_font.addActionListener(this);       formatMenu.add(format_font);       format_color = new JMenuItem("Color"); // define format menu options       format_color.setMnemonic('C');       format_color.addActionListener(this);       formatMenu.add(format_color);       menuBar.add(formatMenu);               // add format menu to menu bar       helpMenu = new JMenu("Help");          // define help menu       helpMenu.setMnemonic('H');             // shortcut       help_about = new JMenuItem("About");   // define help menu options       help_about.setMnemonic('A');       help_about.addActionListener(this);       helpMenu.add(help_about);       menuBar.add(helpMenu);                 // add help menu to menu bar       setJMenuBar(menuBar);                  // put menu bar on application    }    public void actionPerformed(ActionEvent e)    // process menu items    {       Color color;                               // color chosen       if(e.getSource() == file_exit)             // process File > Exit       {           System.exit(0);       }       else if(e.getSource() == format_font)      // process Format > Font       {           // Implement a font choice here           JOptionPane.showMessageDialog(null,                       "Font choice goes here");       }       else if(e.getSource() == format_color)     // process Format > Color       {           // Implement a color choice here           // Would ordinarily do something with color classwide           color = Color.GREEN;           color = JColorChooser.showDialog(this,                         "Choose a color", color);       }       else if(e.getSource() == help_about)       // process Help > About       {           JOptionPane.showMessageDialog(null,              "This program just shows menu setup.");       }    }    public static void main(String[] args)    {       MenuDemo prog = new MenuDemo();       prog.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);       prog.setSize(500, 400);       prog.setVisible(true);    }}</pre></blockquote><p>Here is a screen shot of the menu bar:</p><blockquote>  <p><img src="notes_gui2_menu_screenshot.jpg" alt="Menu are File, Format, and Help. Format menu is opened, with options of Font and Color" width="501" height="124"> </p></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#sliders">Sliders</a> &bull; <a href="#menus">Menus</a> &bull; <a href="#context_menus">Context Menus</a> &bull; <a href="#tabs">Tabbed Windows</a></font></p><hr><h2><font color="#336633"><a name="context_menus"></a>Context Menus </font></h2><p>We can also create <strong>context menus</strong>, or menus that pop up when the user right-clicks on part of the GUI. We will use the <font face="Courier New, Courier, mono">JMenuItem</font> class the same as above for each menu item and will again use the ActionListener to handle the events generated by clicking on each menu item. However, this time the menu container class is different; it's called <font face="Courier New, Courier, mono">JPopupMenu</font>. Additionally, we need to employ the <font face="Courier New, Courier, mono">MouseListener</font> to listen for the event that triggers displaying the popup menu and respond appropriately. </p><p>Here's how it works:</p><ol>  <li>Add the mouse listener to the GUI: <blockquote><pre><strong><font color="#000066">addMouseListener(this);</font> </strong></pre>  </blockquote>  </li>  <li>Create a <font face="Courier New, Courier, mono">JPopupMenu</font> object for the menu, e.g. <br>    <blockquote>      <pre><strong><font color="#000066">JPopupMenu</font></strong> menuObject;menuObject <font color="#000066"><strong>= new JPopupMenu(</strong></font><strong><font color="#000066">);</font></strong></pre>    </blockquote>  </li>  <li>Create and set up each <font face="Courier New, Courier, mono">JMenuItem</font>, as in <a href="#menu_items">2c above</a>. </li>  <li>Set up the <font face="Courier New, Courier, mono">mousePressed()</font> and <font face="Courier New, Courier, mono">mouseReleased()</font> handlers so they both contain this line of code: <br><blockquote><pre><strong><font color="#000066">checkForTriggerEvent(e);</font></strong></pre>  </blockquote>   </li>  <li>Implement the <font face="Courier New, Courier, mono">checkForTriggerEvent()</font> method to check if the event should display a popup menu and then display it (assumes <font face="Courier New, Courier, mono">x</font> and <font face="Courier New, Courier, mono">y</font> are class members): <br>    <blockquote>    <pre><strong><font color="#000066">public void checkForTriggerEvent(MouseEvent e)     // check if this was right-click{    if(e.isPopupTrigger())                          // show menu    {        x = e.getX();        y = e.getY();        popupMenu.show(e.getComponent(), x, y);    } }</font></strong></pre>  </blockquote>  </li></ol><p>&nbsp;</p><h3><font color="#990033"><font color="#336633">Example</font></font></h3><p>Consider the following example applet:</p><blockquote>  <pre>import java.awt.FlowLayout;import java.awt.Graphics;import java.awt.event.*;import java.awt.Color; import javax.swing.*;public class EventDemo7 extends JApplet implements MouseListener, ActionListener{    private final int SHAPE_SIZE = 50;   // default width (pixels) of squares and circles    private int x;                       // x coordinate of mouse event    private int y;                       // y coordinate of mouse event    private JPopupMenu popupMenu;        // popup menu for choosing a shape    private JMenuItem square;            // menu item for drawing a square    private JMenuItem circle;            // menu item for drawing a circle    private JMenuItem message;           // menu item for showing a message    private int choice;                  // what to draw: 0 == square, 1 == circle, 2 == message    @Override    public void init()                   // set up GUI                          {        setLayout(new FlowLayout());         addMouseListener(this);                        // listen for mouse events        popupMenu = new JPopupMenu();            square = new JMenuItem("Draw square");         // menu item for drawing a square        square.addActionListener(this);         popupMenu.add(square);        circle = new JMenuItem("Draw circle");         // menu item for drawing a circle        circle.addActionListener(this);        popupMenu.add(circle);        message = new JMenuItem("Show coordinates");   // menu item for displaying msg with coords.        message.addActionListener(this);        popupMenu.add(message);                 choice = 0;                                    // make square default drawing        x = -1;                                        // set x negative for no initial message    }    @Override    public void paint(Graphics g)                      // draw shape                         {       super.paint(g);       g.drawRect(0, 0, getWidth()-1, getHeight()-1);          // show bounds       if(x != - 1)                                            // display event during repainting only        {          switch(choice)                                       // draw appropriate shape          {                   case 0:                                          // square                 g.drawRect(x, y, SHAPE_SIZE, SHAPE_SIZE);                 break;                case 1:                                          // circle                 g.drawOval(x, y, SHAPE_SIZE, SHAPE_SIZE);                 break;                case 2:                                          // message                 g.drawString("You are at (" + x +                              ", " + y + ")", x, y);                 break;          }            }    }    public void mousePressed(MouseEvent e)             // look for right-clicks    {       checkForTriggerEvent(e);                        // pass along looking for right-click    }    public void mouseReleased(MouseEvent e)            // look for right-clicks    {       checkForTriggerEvent(e);                        // pass along looking for right-click    }    public void checkForTriggerEvent(MouseEvent e)     // check if this was right-click    {       if(e.isPopupTrigger())                          // show menu       {           x = e.getX();           y = e.getY();           popupMenu.show(e.getComponent(), x, y);       }     }    public void actionPerformed(ActionEvent e)        // process menu items    {       if(e.getSource() == square)                    // process square menu item       {          choice = 0;                                        }       else if(e.getSource() == circle)               // process circle menu item       {          choice = 1;                                        }       else if(e.getSource() == message)              // process message menu item       {          choice = 2;                                        }       repaint();    }    // MouseListener Events not used    public void mouseClicked(MouseEvent e) {  }    public void mouseEntered(MouseEvent e) {  }    public void mouseExited(MouseEvent e) {  }}</pre></blockquote><p>&nbsp;</p><p>Here is that applet running:</p><blockquote>  <p><applet code="EventDemo7.class" width="500" height="300"></applet></p></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#sliders">Sliders</a> &bull; <a href="#menus">Menus</a> &bull; <a href="#context_menus">Context Menus</a> &bull; <a href="#tabs">Tabbed Windows</a></font></p><hr><h2><font color="#990033"><font color="#336633"><a name="tabs"></a>Tabbed Windows </font></font></h2><p>Java allows you to create windows with tabs via the class <font face="Courier New, Courier, mono">JTabbedPane</font>. Here's the big picture of how this process goes:</p><ol>  <li>Create a <font face="Courier New, Courier, mono">JTabbedPane</font> object, as demonstrated with these two lines:<br>    <blockquote><pre><strong><font color="#000066">JTabbedPane</font></strong> tabsObject;tabsObject <strong><font color="#000066">= new JTabbedPane();</font></strong>  </pre>    </blockquote>  </li>  <li>For each tab desired,    <ol type="a">      <li>Create a <font face="Courier New, Courier, mono">JPanel</font> object to hold the GUI for that tab, e.g.<br>         <blockquote>           <pre><font color="#000066"><strong>JPanel</strong></font> currentTabPanel <strong><font color="#000066">= new JPanel();</font></strong></pre>         </blockquote>	  </li>      <li>Build the GUI for the tab, by using the add message on the <font face="Courier New, Courier, mono">JPanel</font> object for the tab. For each GUI component, you need this code<br>         <blockquote>           <pre>currentTabPanel<font color="#000066"><strong>.add(</strong></font>guiComponentObject<font color="#000066"><strong>);</strong></font></pre>         </blockquote> </li>      <li>Add the tab to the <font face="Courier New, Courier, mono">JTabbedPane</font> object: 	  <br>         <blockquote>           <pre>tabsObject<strong><font color="#000066">.addTab(&quot;</font></strong>display tab text<strong><font color="#000066">&quot;, null, </font></strong>currentTabPanel<strong><font color="#000066">, &quot;</font></strong>tool tip text<strong><font color="#000066">&quot;);</font></strong></pre>         </blockquote></li>    </ol>  </li>  <li>Add the <font face="Courier New, Courier, mono">JTabbedPane</font> object to the GUI: <br>         <blockquote>           <pre><strong><font color="#000066">add(</font></strong>tabsObject<strong>); </strong></pre>         </blockquote>  </li></ol><h3>&nbsp;</h3><h3><font color="#990033"><font color="#336633">Example</font></font></h3><p>Consider the following example code, which creates a window with two tabs and a button allowing the user to spawn additional tabs: </p><blockquote>  <pre>import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import javax.swing.*;public class TabDemo extends JFrame implements ActionListener{    private int tabCt;                       // number of tabs    <font color="#000066"><strong>private JTabbedPane tabs; </strong></font>               // tabbed window    private JButton addTabButton;            // button to add a tab    public TabDemo()                         // set up GUI    {       super("Tab Demo");       JPanel tab0;                         // default tab GUI       JPanel tab1;                         // second tab GUI       <strong><font color="#000066">tabs = new JTabbedPane();</font></strong>       addTabButton = new JButton("Add a tab");  // button for user to spawn tabs       addTabButton.addActionListener(this);       <strong><font color="#000066">tab0 = new JPanel();              </font></strong> // set up first tab<font color="#000066"><strong>       tab0.add(new JLabel("Default tab"));</strong></font>       tab0.add(addTabButton);       <strong><font color="#000066">tabs.addTab("Main Tab", null, tab0,                   "The default tab");           </font></strong>// tool tip       tab1 = new JPanel();               // set up tab 1       tab1.add(new JLabel("Tab 1"));       tabs.addTab("Tab 1", null, tab1,                   "Provided demo tab");         // tool tip       tabCt = 2;       <strong><font color="#000066">add(tabs); </font></strong>                              // put tab system in application    }    public void actionPerformed(ActionEvent e)    // handle button    {       JPanel cur;                                // new tab to add       if(e.getSource() == addTabButton)          // user wants new tab       {          cur = new JPanel();              // set up new tab          cur.add(new JLabel("Tab " + tabCt));          tabs.addTab("Tab " + tabCt, null, cur,                      "A tab you made" );         // tool tip          tabCt++;                                // keep track of tabs       }    }    public static void main(String[] args)    {       TabDemo prog = new TabDemo();       prog.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);       prog.setSize(500, 400);       prog.setVisible(true);    }}</pre></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#sliders">Sliders</a> &bull; <a href="#menus">Menus</a> &bull; <a href="#context_menus">Context Menus</a> &bull; <a href="#tabs">Tabbed Windows</a></font></p></body></html>