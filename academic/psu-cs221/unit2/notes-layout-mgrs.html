<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Layout Managers</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body><? // grab the headerinclude 'notes-header.php' ; ?><h1 align="center"><font color="#996600"> Controlling GUI Layouts </font></h1><p align="right"><font size="-1">Last Modified   <!-- #BeginDate format:Am2 -->7/22/11<!-- #EndDate --></font></p><p align="center">	<font size="1">		<a href="#idea">The Idea</a> &bull; 		<a href="#flow">FlowLayout</a> &bull; 		<a href="#border">BorderLayout</a> &bull; 		<a href="#grid">GridLayout</a> &bull; 		<a href="#gridbag">GridBagLayout</a> 	</font></p><hr><h2><font color="#990033"><font color="#996600"><a name="idea"></a>The Idea of Layout Managers </font></font></h2><p>We may want more control over how GUI components are placed on our programs. Layout managers are one way to do this. There are a few different layout managers we'll look at that let us specify how GUIs will look in different ways. </p><p>Alternatives to layout managers include:</p><ul>  <li>Using absolute positioning, i.e. specifying the exact position of each component. (This can get tedious and we won't discuss it here.) </li>  <li>Using tools that design GUIs and generate code for absolute positioning. (We won't discuss this, as our goal is to learn about code and you're all capable of figuring out drag-and-drop software on your own.) </li></ul><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Idea</a> &bull; <a href="#flow">FlowLayout</a> &bull; <a href="#border">BorderLayout</a> &bull; <a href="#grid">GridLayout</a> &bull; <a href="#gridbag">GridBagLayout</a> </font></p><hr><h2><font color="#990033"><font color="#996600"><a name="flow"></a>FlowLayout</font></font></h2><p>The default layout manager, which we've been using all along, is called <strong>FlowLayout</strong>. Here, all GUI components are simply placed on the GUI from left to right in the order they're created. Components essentially act like characters in a word processing program and wrap to the next line when the right side of the GUI is reached. </p><p>In our default formats, we haven't been naming the <font face="Courier New, Courier, mono">FlowLayout</font> object, but we can do so as follows: </p><blockquote>  <pre>private FlowLayout layout; </pre></blockquote><p>As an example of how we'd proceed like this, our <font face="Courier New, Courier, mono">init()</font> method for an applet would then begin like this:</p><blockquote>  <pre>public void init()                            {<br>   layout = new FlowLayout();<br>   setLayout(layout); }<br>       </pre></blockquote><p>One benefit of using named layout objects is the ability to change them based upon user actions or use different layouts for different panels within a program. </p><p>Additionally, notice that all GUI components are aligned centered in a FlowLayout by default. We can change this with the <font face="Courier New, Courier, mono">setAlignment()</font> method. Valid alignments are</p><ul>  <li><font face="Courier New, Courier, mono">FlowLayout.LEFT</font> </li>  <li><font face="Courier New, Courier, mono">FlowLayout.CENTER</font></li>  <li><font face="Courier New, Courier, mono">FlowLayout.RIGHT</font></li></ul><p>For example, we might use this line of code:</p><blockquote>  <pre>layout.setAlignment(FlowLayout.LEFT);</pre></blockquote><p>&nbsp;</p><p>Consider the following screen shots of the same applet with each of the three different alignments: </p><blockquote>  <table border="1" cellspacing="0" cellpadding="3">    <tr>      <th scope="col">Alignment</th>      <th scope="col">Applet</th>    </tr>    <tr>      <td><font face="Courier New, Courier, mono">FlowLayout.LEFT</font></td>      <td><img src="layout-left.jpg" width="531" height="98"></td>    </tr>    <tr>      <td><font face="Courier New, Courier, mono">FlowLayout.CENTER</font></td>      <td><img src="layout-center.jpg" width="528" height="91"></td>    </tr>    <tr>      <td><font face="Courier New, Courier, mono">FlowLayout.RIGHT</font></td>      <td><img src="layout-right.jpg" width="530" height="100"></td>    </tr>  </table>  <p>&nbsp;</p></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Idea</a> &bull; <a href="#flow">FlowLayout</a> &bull; <a href="#border">BorderLayout</a> &bull; <a href="#grid">GridLayout</a> &bull; <a href="#gridbag">GridBagLayout</a> </font></p><hr><h2><font color="#990033"><font color="#996600"><a name="border"></a>BorderLayout</font></font></h2><p>The <strong>BorderLayout</strong> breaks the field up into five areas: north, south, east, west, and center. </p><p>We can create a BorderLayout as follows:</p><blockquote>  <pre>BorderLayout layout;layout = new BorderLayout();setLayout(layout);</pre></blockquote><p>Additionally, we could opt to specify gaps between components, e.g. </p><blockquote>  <pre>layout = new BorderLayout(horizontalGapInPixels, verticalGapInPixels);</pre></blockquote><p>When we add components to a container with a BorderLayout, the add() method takes a second argument that tells in which area of the layout to place the component. If we omit this argument, the default is center. Here are the five options:</p><ul>  <li><font face="Courier New, Courier, mono">BorderLayout.NORTH</font> </li>  <li><font face="Courier New, Courier, mono">BorderLayout.SOUTH</font></li>  <li><font face="Courier New, Courier, mono">BorderLayout.EAST</font></li>  <li><font face="Courier New, Courier, mono">BorderLayout.WEST</font></li>  <li><font face="Courier New, Courier, mono">BorderLayout.CENTER</font></li></ul><p>Here's an applet with five buttons, one placed in each region: </p><blockquote>  <p><img src="layout-border.jpg" alt="Note that the North region and South regions expand to fill the entire horizontal space of the container, even though there are items in the West and East. The Center region expands to fill all unused space in the other 4 regions; in North, West, East, and South, only as much space as is needed is used." width="505" height="306"></p></blockquote><p>For example, the following code adds a button to the north region:</p><blockquote>  <pre>add(button, BorderLayout.NORTH); </pre></blockquote><p>&nbsp;</p><p>&nbsp;</p><h2>&nbsp;</h2><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Idea</a> &bull; <a href="#flow">FlowLayout</a> &bull; <a href="#border">BorderLayout</a> &bull; <a href="#grid">GridLayout</a> &bull; <a href="#gridbag">GridBagLayout</a> </font></p><hr><h2><font color="#990033"><font color="#996600"><a name="grid"></a>GridLayout</font></font></h2><p>The <strong>GridLayout</strong> breaks the GUI up into rows and columns. </p><p>We can declare a GridLayout as follows:</p><blockquote>  <pre>GridLayout layout;</pre></blockquote><p>There are two constructors possible: </p><blockquote>  <pre>layout = new GridLayout(numberOfRows, numberOfColumns,                           horizontalGapInPixels, verticalGapInPixels);layout = new GridLayout(numberOfRows, numberOfColumns);</pre></blockquote><p>For example, the following code sets up a GridLayout with 3 rows and 2 columns: </p><blockquote>  <pre>layout = new GridLayout(3, 2);setLayout(layout);</pre></blockquote><p>When we add components to a container with a GridLayout, they're added to the next open position in the current row. When a row is filled, components begin going to the next row. </p><p>Here's an applet with the GridLayout from the above example and 6 buttons, added in the order they're numbered:</p><blockquote>  <p><img src="layout-grid.jpg" alt="There are two columns and three rows. The first row has buttons numbered '1' and '2.' The second has buttons numbered '3' and '4.' The third has buttons numbered '5' and '6.'" width="509" height="312"> </p></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Idea</a> &bull; <a href="#flow">FlowLayout</a> &bull; <a href="#border">BorderLayout</a> &bull; <a href="#grid">GridLayout</a> &bull; <a href="#gridbag">GridBagLayout</a> </font></p><hr><h2><font color="#990033"><font color="#996600"><a name="gridbag"></a>GridBagLayout</font></font></h2><p>The <strong>GridBagLayout</strong> is a more powerful version of the GridLayout. Here's why:</p><ul>  <li>Components can vary in size, i.e. occupy multiple rows and/or columns</li>  <li>Components can be added in whatever order you like </li></ul><p>A <font face="Courier New, Courier, mono">GridBagLayout</font> object has an an associated <font face="Courier New, Courier, mono">GridBagConstraints</font> object, which defines the properties for each GUI component. We must declare and initialize one of each, e.g. </p><blockquote>  <pre>private GridBagLayout layout;                <br>private GridBagConstraints constraints;   layout = new GridBagLayout(); constraints = new GridBagConstraints();  </pre></blockquote><p>Additionally, to get the kind of behavior we've seen above, we need the following lines of code (these can vary, but we'll work with this simplification): </p><blockquote>  <pre>constraints.fill = GridBagConstraints.BOTH; <br>constraints.weightx = 1000;<br>constraints.weighty = 1000; </pre></blockquote><p>The properties are public data members in <font face="Courier New, Courier, mono">GridBagConstraints</font>. Key properties we'll want to work with are</p><ul>  <li><font face="Courier New, Courier, mono">gridx</font></li>  <li><font face="Courier New, Courier, mono">gridy</font></li>  <li><font face="Courier New, Courier, mono">gridwidth</font></li>  <li><font face="Courier New, Courier, mono">gridheight</font></li></ul><p>For each GUI component, we need to define values for each of these properties. Then we need to call the <font face="Courier New, Courier, mono">setConstraints()</font> method as follows: </p><blockquote>  <pre>layout.setConstraints(guiComponentName, constraints); </pre></blockquote><p>For example, the following code positions a <font face="Courier New, Courier, mono">button3</font> at the top the 4th column and occupying 1 column and 3 rows:</p><blockquote>  <pre>constraints.gridx = 3;   constraints.gridy = 0;<br>constraints.gridwidth = 1;<br>constraints.gridheight = 3;  <br>layout.setConstraints(button3, constraints); <br>add(button3); </pre></blockquote><h3><font color="#996600">Complete Examples </font></h3><p>First, consider this example, which sets up the same GUI as the GridLayout example above:</p><blockquote>  <pre>public class GUIDemoGridBag extends JApplet{    private JButton button1;                      // button #1 of 6 to demo layout    private JButton button2;                      // button #2 of 6 to demo layout    private JButton button3;                      // button #3 of 6 to demo layout    private JButton button4;                      // button #4 of 6 to demo layout    private JButton button5;                      // button #5 of 6 to demo layout    private JButton button6;                      // button #6 of 6 to demo layout       private GridBagLayout layout;                 // layout of applet    private GridBagConstraints constraints;       // helper for the layout    @Override    public void init()                                {        layout = new GridBagLayout();             // set up layout        setLayout(layout);         constraints = new GridBagConstraints();           button1 = new JButton("1");               // initialize the buttons        button2 = new JButton("2");        button3 = new JButton("3");        button4 = new JButton("4");        button5 = new JButton("5");        button6 = new JButton("6");        constraints.fill = GridBagConstraints.BOTH;         constraints.weightx = 1000;        constraints.weighty = 1000;         constraints.gridx = 0;                   // define constraints for button        constraints.gridy = 0;        constraints.gridwidth = 1;        constraints.gridheight = 1;         layout.setConstraints(button1, constraints);         add(button1);          constraints.gridx = 1;                   // define constraints for button        constraints.gridy = 0;        constraints.gridwidth = 1;        constraints.gridheight = 1;         layout.setConstraints(button2, constraints);         add(button2);        constraints.gridx = 0;                   // define constraints for button        constraints.gridy = 1;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button3, constraints);         add(button3);        constraints.gridx = 1;                   // define constraints for button        constraints.gridy = 1;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button4, constraints);         add(button4);        constraints.gridx = 0;                   // define constraints for button        constraints.gridy = 2;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button5, constraints);         add(button5);        constraints.gridx = 1;                   // define constraints for button        constraints.gridy = 2;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button6, constraints);         add(button6);            }    @Override    public void paint(Graphics g)                            {       super.paint(g);    }}</pre></blockquote><p>Now, consider this example, which shows varying-size components: </p><blockquote>  <pre>public class GUIDemoGridBag extends JApplet{    private JButton button1;                      // button #1 of 7 to demo layout    private JButton button2;                      // button #2 of 7 to demo layout    private JButton button3;                      // button #3 of 7 to demo layout    private JButton button4;                      // button #4 of 7 to demo layout    private JButton button5;                      // button #5 of 7 to demo layout    private JButton button6;                      // button #6 of 7 to demo layout    private JButton button7;                      // button #7 of 7 to demo layout       private GridBagLayout layout;                 // layout of applet    private GridBagConstraints constraints;       // helper for the layout    @Override    public void init()                                {        layout = new GridBagLayout();             // set up layout        setLayout(layout);         constraints = new GridBagConstraints();           button1 = new JButton("1");               // initialize the buttons        button2 = new JButton("2");        button3 = new JButton("3");        button4 = new JButton("4");        button5 = new JButton("5");        button6 = new JButton("6");        button7 = new JButton("7");        constraints.fill = GridBagConstraints.BOTH;         constraints.weightx = 1000;        constraints.weighty = 1000;         constraints.gridx = 1;                   // define constraints for button        constraints.gridy = 0;        constraints.gridwidth = 1;        constraints.gridheight = 1;         layout.setConstraints(button1, constraints);         add(button1);          constraints.gridx = 0;                   // define constraints for button        constraints.gridy = 1;        constraints.gridwidth = 2;        constraints.gridheight = 2;         layout.setConstraints(button2, constraints);         add(button2);        constraints.gridx = 3;                   // define constraints for button        constraints.gridy = 0;        constraints.gridwidth = 1;        constraints.gridheight = 3;          layout.setConstraints(button3, constraints);         add(button3);        constraints.gridx = 0;                   // define constraints for button        constraints.gridy = 0;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button4, constraints);         add(button4);        constraints.gridx = 2;                   // define constraints for button        constraints.gridy = 0;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button5, constraints);         add(button5);        constraints.gridx = 2;                   // define constraints for button        constraints.gridy = 2;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button6, constraints);         add(button6);        constraints.gridx = 2;                   // define constraints for button        constraints.gridy = 1;        constraints.gridwidth = 1;        constraints.gridheight = 1;          layout.setConstraints(button7, constraints);         add(button7);    }    @Override    public void paint(Graphics g)                            {       super.paint(g);    }}</pre></blockquote><p>Here is the GUI created:</p><blockquote>  <p><img src="layout-gridbag.png" alt="Here we have a grid with 4 columns and 3 rows. In the first row, there are buttons labeled '4,' '1,' and '5,' followed by a button labeled '3' that occupies the entire fourth column. A button labeled '2' occupies the bottom left two rows and columns. There is a button labeled '7' in the third column from the left; directly below it is a button labeled '6.'" width="515" height="318"> </p></blockquote><p>&nbsp;</p><p>See Deitel 25.9 or the <a href="http://java.sun.com/javase/6/docs/api/java/awt/GridBagLayout.html">Java API entry on GridBagLayout for more.</a></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#idea">The Idea</a> &bull; <a href="#flow">FlowLayout</a> &bull; <a href="#border">BorderLayout</a> &bull; <a href="#grid">GridLayout</a> &bull; <a href="#gridbag">GridBagLayout</a> </font></p></body></html>