<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Databases</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body><? // grab the headerinclude 'notes-header.php' ; ?><h1 align="center"><font color="#006666">Overview of Relational Databases </font></h1><p align="right"><font size="-1">Last Modified   <!-- #BeginDate format:Am2 -->7/22/11<!-- #EndDate --></font></p><p align="center">	<font size="1">		<a href="#bg">Background/Evolution</a> &bull; 		<a href="#rdbms">RDBMSs</a> &bull; 		<a href="#pk">Primary Keys</a> &bull; 		<a href="#fk">Foreign Keys</a> &bull; <a href="#er">ER Diagrams</a></font></p><hr><h2><font color="#006666"><a name="bg"></a>Background and The Evolution of Databases </font></h2><p>We wish to store information in the form of <strong>records</strong> on a computer. </p><p>Consider these properties of a <strong>record:</strong></p><ul>  <li>Store related data about a person, place, thing, ...</li>  <li>Each datum is stored in a <strong>field</strong></li>  <li>Fields can be of mixed types</li></ul><p>We've already worked with forms of records in our programming experience: the C++ <font face="Courier New, Courier, mono">struct</font> and objects in C++ and Java. In this unit, we'll look at storing records in a database instead. </p><p></p><h3><font color="#006666">Organization of a Database (High Level) </font></h3><table width="0%" border="1" cellspacing="1" cellpadding="3">  <tr>    <td colspan="4">      <div align="center">larger entities &lt;-----&gt; smaller entities</div></td>  </tr>  <tr>    <td><b>Database</b></td>    <td><b>Tables</b></td>    <td><b>Records</b></td>    <td><b>Fields</b></td>  </tr>  <tr>    <td>main framework</td>    <td>related data<br>        <i>s</i><i>imilar</i> to spreadsheet</td>    <td>one row in a table<br>      information about one thing</td>    <td>one cell in a table<br>      corresponds to a column<br>      one piece of information</td>  </tr></table><p>&nbsp;</p><h3><font color="#006666">Database types</font></h3><ul>  <li>The most primitive form of a database is a <b>flat file database</b>.      <ul>        <li>Everything is stored in a plain text file</li>        <li>Need a program that is specific to the database to interpret the files </li>        <li>We could do this in C++ or Java using structured programming or OOP </li>        <li>Example: A bank might have account information in flat files like these: <a href="notes-db-flat-file-ex1.txt">account 1</a>, <a href="notes-db-flat-file-ex2.txt">account 2</a>, <a href="notes-db-flat-file-ex3.txt">account 3</a> </li>      </ul>  </li>  <li>Higher level: <b>relational database</b>.    <ul>        <li>Uses tables to organize data</li>        <li>Related tables can communicate </li>        <li>Examples: application software like MS Access; relational database management systems we'll work with through SQL </li>    </ul>  </li></ul><p>In this unit of the course, we'll first work purely with relational databases. Then we'll learn how to connect to them via Java and use a Java front-end for a relational database back-end. </p><p>We'll start by working with individual tables and then we'll learn how to link multiple tables together. While we can have a database consisting of a single table, most applications use several. </p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#bg">Background/Evolution</a> &bull; <a href="#rdbms">RDBMSs</a> &bull; <a href="#pk">Primary Keys</a> &bull; <a href="#fk">Foreign Keys</a> &bull; <a href="#er">ER Diagrams</a></font></p><hr><h2><font color="#006666"><a name="rdbms"></a>More on Relational Databases</font></h2><p>The relational database model was first proposed by E.F. Codd in 1970. The whole concept is based on the mathematical notion of a relation. (See CMPSC 360.)</p><p>The implementation of this is through a <strong>relational database management system</strong>, abbreviated <strong>RDBMS</strong>. </p><p>Various RDBMSs exist: MySQL, Oracle, MS Access, MS SQL Server, etc. We'll use a system called Apache Derby that's integrated with NetBeans. </p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#bg">Background/Evolution</a> &bull; <a href="#rdbms">RDBMSs</a> &bull; <a href="#pk">Primary Keys</a> &bull; <a href="#fk">Foreign Keys</a> &bull; <a href="#er">ER Diagrams</a></font></p><hr><h2><font color="#006666"><a name="pk"></a>Primary Keys </font></h2><p>A <strong>primary key </strong>is a field for which a unique entry is required for every record. We can uniquely identify the record from this field alone.</p><p>All well-designed databases ought to have a primary key.</p><p><strong>Examples:</strong> social security numbers for people in a government database, your PSU ID in a database managed by the registrar, your login ID in the CSE department's accounts database, ISBNs for a table of books, etc. </p><p>Primary keys are generally one field, but some database systems allow us to define a <em>compound primary key </em>consisting of multiple fields (e.g. first name and last name -- is this guaranteed to be unique?)</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#bg">Background/Evolution</a> &bull; <a href="#rdbms">RDBMSs</a> &bull; <a href="#pk">Primary Keys</a> &bull; <a href="#fk">Foreign Keys</a> &bull; <a href="#er">ER Diagrams</a></font></p><hr><h2><font color="#006666"><a name="fk"></a>Foreign Keys and Table Linkage </font></h2><p>When we have related tables in a database, we need a way of linking them together. Suppose one table has a field that refers to a complete record in another table.</p><p>Let's consider a different form of an old example: Suppose we're maintaining a database of accounts at a bank. Let's say we have a table consisting of the information about accounts. A customer might have both a savings account and a checking account, each of which would be a separate record. Suppose the record contains the customer's contact information and the customer moves. What do we need to do? </p><p>A better design is to maintain customers in a table separate from accounts and have a field in the accounts table that links to the customers table. Each customer's information is stored only once this way. This accounts table field will hold the primary key to the accounts table. </p><p>Such a field that contains the primary key to a record in another table is called a <strong>foreign key</strong>. It is via foreign keys that we define relationships between tables; thus they are very important in relational databases. </p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#bg">Background/Evolution</a> &bull; <a href="#rdbms">RDBMSs</a> &bull; <a href="#pk">Primary Keys</a> &bull; <a href="#fk">Foreign Keys</a> &bull; <a href="#er">ER Diagrams</a></font></p><hr><h2><font color="#006666"><a name="er"></a>Entity-Relationship Modeling</font></h2><p>In designing and working with databases consisting of many tables, it is useful to use a tool called an <strong>entity-relationship diagram</strong> (or ER diagram). ER diagrams tell the following:</p><ul>  <li>Each table in the database    <ul>      <li>Name of the table</li>      <li>The primary key of the table</li>      <li>All of the fields in the table and their data types</li>    </ul>  </li>  <li>Relationships     <ul>      <li>Lines between related tables</li>      <li>The foreign keys to those tables</li>      <li>The kinds of relationships between tables (e.g. one-to-one, one-to-many)</li>    </ul>  </ul><p>&nbsp;</p><p>Consider this example, for a system we'll use in several class examples:</p><blockquote>  <p><img src="notes-db-er-ex.png" alt="ER Diagram of a database to be used in examples. Each table in portrayed by a box, with the name of the table above the box and a box within it at the top listing the primary key. Table 'courses' has these fields: course_id (the primary key), dept, number, name, credits, num_sections, and major_notes. Table 'buildings' has these fields: building_id, name, abbrev, map_loc. Table 'sections' has these fields: sched_no (the primary key), course_id, section, building_id, room, days, start_time, end_time. Field 'course_id' in 'sections' is a foreign key to 'courses'; there is a line between these tables for this reason. Field 'building_id' in 'sections' is a foreign key to 'buildings'; there is a line between these tables as well." width="464" height="338"></p></blockquote><p>We won't work with ER diagrams in detail here, but this topic is covered in detail in the full database course. </p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p align="center"><font size="1"><a href="#bg">Background/Evolution</a> &bull; <a href="#rdbms">RDBMSs</a> &bull; <a href="#pk">Primary Keys</a> &bull; <a href="#fk">Foreign Keys</a> &bull; <a href="#er">ER Diagrams</a></font></p></body></html>